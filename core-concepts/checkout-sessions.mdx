---
title: "Checkout Sessions"
description: "Initialize purchase intents with checkout sessions before creating payments"
---

## What is a Checkout Session?

A checkout session represents a purchase intent. It captures the amount, currency, country, and merchant order reference before any payment is created. Every payment in Yuno must be associated with a checkout session.

Think of a checkout session as a **container**: it defines _what_ the customer is buying, while the payment defines _how_ they pay for it.

## Session Lifecycle

```
Your Server                        Yuno API                     Your Client
    |                                  |                            |
    |  1. POST /v1/checkout/sessions   |                            |
    |--------------------------------->|                            |
    |   { checkout_session: "cs_..." } |                            |
    |<---------------------------------|                            |
    |                                  |                            |
    |  2. Send session ID to client    |                            |
    |------------------------------------------------------>        |
    |                                  |  3. Initialize SDK         |
    |                                  |<---------------------------|
    |                                  |   Payment methods list     |
    |                                  |--------------------------->|
    |                                  |                            |
    |  4. POST /v1/payments            |                            |
    |--------------------------------->|                            |
    |   { payment result }             |                            |
    |<---------------------------------|                            |
```

<Steps>
  <Step title="Your server creates a checkout session">
    Call `POST /v1/checkout/sessions` with the amount, currency, country, and your order reference.
  </Step>
  <Step title="Your client receives the session ID">
    Pass the `checkout_session` token to your frontend to initialize the Yuno SDK, or use it directly in a server-to-server Direct API flow.
  </Step>
  <Step title="Customer selects a payment method">
    The SDK displays available payment methods based on the session's country, currency, and your merchant configuration.
  </Step>
  <Step title="Your server creates a payment">
    Submit a payment referencing the checkout session. Yuno marks the session as completed once the payment reaches a terminal status.
  </Step>
</Steps>

## Creating a Checkout Session

<CodeGroup>
```bash cURL
curl -X POST https://api-sandbox.y.uno/v1/checkout/sessions \
  -H "public-api-key: $YUNO_PUBLIC_KEY" \
  -H "private-secret-key: $YUNO_PRIVATE_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "amount": {
      "currency": "BRL",
      "value": 250.00
    },
    "country": "BR",
    "merchant_order_id": "order-9876",
    "payment_description": "Annual subscription",
    "account_id": "your-account-id",
    "customer_id": "c9d0e1f2-3a4b-5c6d-7e8f-9a0b1c2d3e4f",
    "callback_url": "https://yoursite.com/payment/callback"
  }'
```

```javascript Node.js
const response = await fetch('https://api-sandbox.y.uno/v1/checkout/sessions', {
  method: 'POST',
  headers: {
    'public-api-key': process.env.YUNO_PUBLIC_KEY,
    'private-secret-key': process.env.YUNO_PRIVATE_KEY,
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    amount: { currency: 'BRL', value: 250.00 },
    country: 'BR',
    merchant_order_id: 'order-9876',
    payment_description: 'Annual subscription',
    account_id: 'your-account-id',
    customer_id: 'c9d0e1f2-3a4b-5c6d-7e8f-9a0b1c2d3e4f',
    callback_url: 'https://yoursite.com/payment/callback',
  }),
});

const session = await response.json();
console.log(session.checkout_session); // UUID
```

```python Python
import requests
import os

response = requests.post(
    'https://api-sandbox.y.uno/v1/checkout/sessions',
    headers={
        'public-api-key': os.environ['YUNO_PUBLIC_KEY'],
        'private-secret-key': os.environ['YUNO_PRIVATE_KEY'],
        'Content-Type': 'application/json',
    },
    json={
        'amount': {'currency': 'BRL', 'value': 250.00},
        'country': 'BR',
        'merchant_order_id': 'order-9876',
        'payment_description': 'Annual subscription',
        'account_id': 'your-account-id',
        'customer_id': 'c9d0e1f2-3a4b-5c6d-7e8f-9a0b1c2d3e4f',
        'callback_url': 'https://yoursite.com/payment/callback',
    },
)

session = response.json()
```
</CodeGroup>

## Required Fields

| Field | Type | Description |
|-------|------|-------------|
| `amount.currency` | string | ISO 4217 currency code (e.g., `BRL`, `COP`, `MXN`, `USD`) |
| `amount.value` | number | Payment amount as a decimal (multiple of 0.0001) |
| `country` | string | ISO 3166-1 alpha-2 country code (e.g., `BR`, `CO`, `MX`, `US`) |
| `merchant_order_id` | string | Your internal order reference (3-255 chars) |
| `account_id` | string (UUID) | Your account ID from the [Yuno Dashboard](https://dashboard.y.uno/) |
| `payment_description` | string | Description shown to the customer (3-255 chars) |

## Optional Fields

| Field | Type | Description |
|-------|------|-------------|
| `callback_url` | string | URL to redirect the customer after payment. Required for alternative payment methods with redirection (3-526 chars). |
| `customer_id` | string (UUID) | Pre-created Yuno customer ID for one-click checkout |
| `metadata` | array | Key-value pairs for your internal tracking (up to 120 items) |
| `workflow` | string | Checkout type: `SDK_CHECKOUT`, `CHECKOUT`, or `SDK_SEAMLESS` |
| `installments` | object | Installment plan configuration |

## Response

The checkout session response returns the session token and confirms the configured parameters:

```json
{
  "checkout_session": "d313047b-4f96-44ef-bbad-caf1d7ba4c2b",
  "merchant_order_id": "order-9876",
  "country": "BR",
  "payment_description": "Annual subscription",
  "customer_id": "c9d0e1f2-3a4b-5c6d-7e8f-9a0b1c2d3e4f",
  "callback_url": "https://yoursite.com/payment/callback",
  "amount": {
    "currency": "BRL",
    "value": 250.00
  },
  "created_at": "2026-03-01T14:30:00.000Z",
  "workflow": "SDK_CHECKOUT"
}
```

<Note>
The `POST /v1/checkout/sessions` endpoint returns HTTP **200** (not 201). This is by design -- the session initializes a flow rather than creating a standalone resource.
</Note>

## Relationship to Payments

| Aspect | Checkout Session | Payment |
|--------|-----------------|--------|
| **Purpose** | Defines what is being purchased | Defines how the purchase is paid |
| **Created by** | Your server | Your server |
| **Cardinality** | One per purchase attempt | One per checkout session |
| **Contains** | Amount, currency, country | Payment method, customer, provider details |

<Warning>
A checkout session can only be used for **one payment**. If a payment fails and the customer retries, create a new checkout session for the retry attempt.
</Warning>

## Common Errors

| HTTP Status | Error Code | Cause | Resolution |
|-------------|-----------|-------|------------|
| `400` | `INVALID_REQUEST` | Missing required fields or invalid format | Verify all required fields are present |
| `401` | `INVALID_CREDENTIALS` | Invalid API keys | Check `public-api-key` and `private-secret-key` |
| `403` | `AUTHORIZATION_REQUIRED` | Account not authorized | Verify your account configuration in the Dashboard |

## What's Next

<CardGroup cols={2}>
  <Card title="Create a Payment" icon="credit-card" href="/guides/direct-api/create-payment">
    Use the checkout session to create a payment.
  </Card>
  <Card title="Payment Flow" icon="arrow-right" href="/core-concepts/payment-flow">
    Understand the complete payment lifecycle.
  </Card>
</CardGroup>
