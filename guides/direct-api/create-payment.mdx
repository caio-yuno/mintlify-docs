---
title: "Create a Payment"
description: "Submit payments via Direct API with code examples for cards, PIX, and bank transfers"
---

## Overview

The Create Payment endpoint (`POST /v1/payments`) processes a transaction using the payment method and amount specified. Every payment must reference a [checkout session](/core-concepts/checkout-sessions) created beforehand.

This guide covers method-specific requirements and provides ready-to-use code examples with real request and response schemas from the Yuno API.

## Prerequisites

Before creating a payment, you need:

1. A **checkout session** -- see [Checkout Sessions](/core-concepts/checkout-sessions)
2. A **payment method token** (for cards) or customer document details (for PIX, Boleto, etc.)
3. An **idempotency key** to prevent duplicate charges

## Endpoint

```
POST https://api-sandbox.y.uno/v1/payments
```

### Required Headers

| Header | Value |
|--------|-------|
| `public-api-key` | Your public API key |
| `private-secret-key` | Your private secret key |
| `X-Idempotency-Key` | Unique key for this payment attempt |
| `Content-Type` | `application/json` |

### Required Body Fields

| Field | Type | Description |
|-------|------|-------------|
| `checkout_session` | string (UUID) | The checkout session ID |
| `payment_method.type` | string | Payment method type: `CARD`, `PIX`, `BOLETO`, `PSE`, `OXXO`, `SPEI`, `BNPL` |
| `amount.currency` | string | ISO 4217 currency code (e.g., `USD`, `BRL`, `COP`) |
| `amount.value` | number | Payment amount |
| `country` | string | ISO 3166-1 alpha-2 country code |

## Card Payment

<Steps>
  <Step title="Create a checkout session">
    ```bash
    curl -X POST https://api-sandbox.y.uno/v1/checkout/sessions \
      -H "public-api-key: $YUNO_PUBLIC_KEY" \
      -H "private-secret-key: $YUNO_PRIVATE_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "amount": { "currency": "USD", "value": 50.00 },
        "country": "CO",
        "merchant_order_id": "order-123",
        "payment_description": "Order #123",
        "account_id": "your-account-id"
      }'
    ```
  </Step>

  <Step title="Create the card payment">
    <CodeGroup>
    ```bash cURL
    curl -X POST https://api-sandbox.y.uno/v1/payments \
      -H "public-api-key: $YUNO_PUBLIC_KEY" \
      -H "private-secret-key: $YUNO_PRIVATE_KEY" \
      -H "X-Idempotency-Key: pay-order-123-attempt-1" \
      -H "Content-Type: application/json" \
      -d '{
        "checkout_session": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
        "payment_method": {
          "type": "CARD",
          "vaulted_token": "cbdcc878-ceb4-4dd8-b0f0-49d444855de0"
        },
        "amount": { "currency": "USD", "value": 50.00 },
        "country": "CO",
        "customer": {
          "email": "customer@example.com",
          "first_name": "John",
          "last_name": "Doe"
        },
        "description": "Order #123"
      }'
    ```

    ```javascript Node.js
    const response = await fetch('https://api-sandbox.y.uno/v1/payments', {
      method: 'POST',
      headers: {
        'public-api-key': process.env.YUNO_PUBLIC_KEY,
        'private-secret-key': process.env.YUNO_PRIVATE_KEY,
        'X-Idempotency-Key': 'pay-order-123-attempt-1',
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        checkout_session: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890',
        payment_method: {
          type: 'CARD',
          vaulted_token: 'cbdcc878-ceb4-4dd8-b0f0-49d444855de0',
        },
        amount: { currency: 'USD', value: 50.00 },
        country: 'CO',
        customer: {
          email: 'customer@example.com',
          first_name: 'John',
          last_name: 'Doe',
        },
        description: 'Order #123',
      }),
    });

    const payment = await response.json();
    console.log(payment.id, payment.status);
    ```

    ```python Python
    import requests
    import os

    response = requests.post(
        'https://api-sandbox.y.uno/v1/payments',
        headers={
            'public-api-key': os.environ['YUNO_PUBLIC_KEY'],
            'private-secret-key': os.environ['YUNO_PRIVATE_KEY'],
            'X-Idempotency-Key': 'pay-order-123-attempt-1',
            'Content-Type': 'application/json',
        },
        json={
            'checkout_session': 'a1b2c3d4-e5f6-7890-abcd-ef1234567890',
            'payment_method': {
                'type': 'CARD',
                'vaulted_token': 'cbdcc878-ceb4-4dd8-b0f0-49d444855de0',
            },
            'amount': {'currency': 'USD', 'value': 50.00},
            'country': 'CO',
            'customer': {
                'email': 'customer@example.com',
                'first_name': 'John',
                'last_name': 'Doe',
            },
            'description': 'Order #123',
        },
    )

    payment = response.json()
    print(payment['id'], payment['status'])
    ```
    </CodeGroup>
  </Step>

  <Step title="Handle the response">
    Check the `status` field and take the appropriate action. See [Payment Statuses](#payment-statuses) below.
  </Step>
</Steps>

## PIX Payment (Brazil)

PIX is an instant payment method in Brazil. It requires a customer document (CPF for individuals, CNPJ for businesses). The response includes a QR code for the customer to scan.

<CodeGroup>
```bash cURL
curl -X POST https://api-sandbox.y.uno/v1/payments \
  -H "public-api-key: $YUNO_PUBLIC_KEY" \
  -H "private-secret-key: $YUNO_PRIVATE_KEY" \
  -H "X-Idempotency-Key: pix-order-456" \
  -H "Content-Type: application/json" \
  -d '{
    "checkout_session": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "payment_method": { "type": "PIX" },
    "amount": { "currency": "BRL", "value": 100.00 },
    "country": "BR",
    "customer": {
      "email": "cliente@example.com",
      "document": {
        "document_type": "CPF",
        "document_number": "12345678901"
      }
    }
  }'
```

```javascript Node.js
const pixPayment = await fetch('https://api-sandbox.y.uno/v1/payments', {
  method: 'POST',
  headers: {
    'public-api-key': process.env.YUNO_PUBLIC_KEY,
    'private-secret-key': process.env.YUNO_PRIVATE_KEY,
    'X-Idempotency-Key': 'pix-order-456',
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    checkout_session: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890',
    payment_method: { type: 'PIX' },
    amount: { currency: 'BRL', value: 100.00 },
    country: 'BR',
    customer: {
      email: 'cliente@example.com',
      document: {
        document_type: 'CPF',
        document_number: '12345678901',
      },
    },
  }),
});

const result = await pixPayment.json();
// Display result.payment_method.pix.qr_code or qr_code_url to the customer
```

```python Python
pix_payment = requests.post(
    'https://api-sandbox.y.uno/v1/payments',
    headers={
        'public-api-key': os.environ['YUNO_PUBLIC_KEY'],
        'private-secret-key': os.environ['YUNO_PRIVATE_KEY'],
        'X-Idempotency-Key': 'pix-order-456',
        'Content-Type': 'application/json',
    },
    json={
        'checkout_session': 'a1b2c3d4-e5f6-7890-abcd-ef1234567890',
        'payment_method': {'type': 'PIX'},
        'amount': {'currency': 'BRL', 'value': 100.00},
        'country': 'BR',
        'customer': {
            'email': 'cliente@example.com',
            'document': {
                'document_type': 'CPF',
                'document_number': '12345678901',
            },
        },
    },
)

result = pix_payment.json()
# Display result['payment_method']['pix']['qr_code'] to the customer
```
</CodeGroup>

<Note>
PIX payments return with status `PENDING`. The response includes a `payment_method.pix` object containing `qr_code` (base64 image) and `qr_code_url` (copy-paste code). Display either to the customer. Use [webhooks](/core-concepts/webhooks) to receive the `payment.succeeded` event when the customer completes the payment.
</Note>

## Bank Transfer (Colombia)

<CodeGroup>
```bash cURL
curl -X POST https://api-sandbox.y.uno/v1/payments \
  -H "public-api-key: $YUNO_PUBLIC_KEY" \
  -H "private-secret-key: $YUNO_PRIVATE_KEY" \
  -H "X-Idempotency-Key: bank-order-789" \
  -H "Content-Type: application/json" \
  -d '{
    "checkout_session": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "payment_method": { "type": "PSE" },
    "amount": { "currency": "COP", "value": 50000 },
    "country": "CO",
    "customer": {
      "email": "cliente@example.com",
      "document": {
        "document_type": "CC",
        "document_number": "1234567890"
      }
    }
  }'
```

```javascript Node.js
const bankPayment = await fetch('https://api-sandbox.y.uno/v1/payments', {
  method: 'POST',
  headers: {
    'public-api-key': process.env.YUNO_PUBLIC_KEY,
    'private-secret-key': process.env.YUNO_PRIVATE_KEY,
    'X-Idempotency-Key': 'bank-order-789',
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    checkout_session: 'a1b2c3d4-e5f6-7890-abcd-ef1234567890',
    payment_method: { type: 'PSE' },
    amount: { currency: 'COP', value: 50000 },
    country: 'CO',
    customer: {
      email: 'cliente@example.com',
      document: {
        document_type: 'CC',
        document_number: '1234567890',
      },
    },
  }),
});
```

```python Python
bank_payment = requests.post(
    'https://api-sandbox.y.uno/v1/payments',
    headers={
        'public-api-key': os.environ['YUNO_PUBLIC_KEY'],
        'private-secret-key': os.environ['YUNO_PRIVATE_KEY'],
        'X-Idempotency-Key': 'bank-order-789',
        'Content-Type': 'application/json',
    },
    json={
        'checkout_session': 'a1b2c3d4-e5f6-7890-abcd-ef1234567890',
        'payment_method': {'type': 'PSE'},
        'amount': {'currency': 'COP', 'value': 50000},
        'country': 'CO',
        'customer': {
            'email': 'cliente@example.com',
            'document': {
                'document_type': 'CC',
                'document_number': '1234567890',
            },
        },
    },
)
```
</CodeGroup>

## Required Fields by Payment Method

| Payment Method | Required Customer Fields | Country | Currency |
|---------------|------------------------|---------|----------|
| `CARD` | `email` | Multiple | Multiple |
| `PIX` | `email`, `document` (CPF/CNPJ) | BR | BRL |
| `BOLETO` | `email`, `document` (CPF/CNPJ) | BR | BRL |
| `PSE` | `email`, `document` (CC/CE/NIT) | CO | COP |
| `OXXO` | `email` | MX | MXN |
| `SPEI` | `email` | MX | MXN |
| `BANK_TRANSFER` | `email`, `document` | Varies | Varies |

## Response Structure

A successful payment creation returns the full payment object:

```json
{
  "id": "f47ac10b-58cc-4372-a567-0e02b2c3d479",
  "checkout_session": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "status": "SUCCEEDED",
  "amount": {
    "currency": "USD",
    "value": 50.00,
    "refunded": 0,
    "captured": 50.00
  },
  "country": "CO",
  "payment_method": {
    "type": "CARD"
  },
  "provider": {
    "name": "stripe_connect",
    "transaction_id": "pi_3abc123def456"
  },
  "merchant_order_id": "order-123",
  "created_at": "2026-03-01T14:31:00.000Z",
  "updated_at": "2026-03-01T14:31:02.000Z"
}
```

## Payment Statuses

| Status | Meaning | Action |
|--------|---------|--------|
| `SUCCEEDED` | Payment approved and captured | Fulfill the order |
| `AUTHORIZED` | Funds reserved (auth-only) | [Capture](/guides/direct-api/capture-and-cancel) when ready |
| `PENDING` | Awaiting customer action or provider confirmation | Wait for [webhook](/core-concepts/webhooks) |
| `DECLINED` | Declined by provider or issuer | Show error, allow retry with different method |
| `REJECTED` | Blocked by validation or fraud rules | Fix request payload and retry |
| `CANCELLED` | Cancelled before completion | Create a new payment |

## Error Handling

### Common Errors

| HTTP Status | Error Code | Cause | Resolution |
|-------------|-----------|-------|------------|
| `400` | `INVALID_REQUEST` | Missing required fields or malformed JSON | Check request body against required fields |
| `400` | `INVALID_FIELD` | Invalid field value (e.g., bad document format) | Fix the specific field mentioned in the error |
| `401` | `INVALID_CREDENTIALS` | Invalid or missing API keys | Verify `public-api-key` and `private-secret-key` |
| `403` | `AUTHORIZATION_REQUIRED` | Payment method not enabled for your account | Enable the method in Dashboard > Payment Methods |
| `409` | `CONFLICT` | Idempotency key reused with different payload | Use a new idempotency key |

<Warning>
Always verify payment status server-side. Do not rely solely on the synchronous response for fulfillment decisions. Use [webhooks](/core-concepts/webhooks) for definitive payment status updates, especially for asynchronous payment methods.
</Warning>

## What's Next

<CardGroup cols={2}>
  <Card title="Capture & Cancel" icon="rotate-left" href="/guides/direct-api/capture-and-cancel">
    Two-step authorization flows.
  </Card>
  <Card title="Refunds" icon="arrow-rotate-left" href="/guides/direct-api/refunds">
    Process full and partial refunds.
  </Card>
  <Card title="Idempotency" icon="shield" href="/core-concepts/idempotency">
    Safely retry API requests without duplicates.
  </Card>
  <Card title="Webhooks" icon="bell" href="/core-concepts/webhooks">
    Receive real-time payment notifications.
  </Card>
</CardGroup>
